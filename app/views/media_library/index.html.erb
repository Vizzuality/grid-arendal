<div class="l-header-library -media-library">
  <div class="overlay"></div>
  <%= render 'shared/menu' %>
  <div class="row">
    <div class="small-12 columns">
      <div class="title-block">
        <h1 class="text -title-library">Media library</h1>
        <div class="text -summary">
          The GRID-Arendal Content Library is an on-going project to collect and catalogue environmental photos, videos and graphics from all around the world. The library currently contains 3622 photos.
        </div>
        <div class="share">
          <svg class="icon">
            <use xlink:href="#icon-share"></use>
          </svg>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="l-main-content -media-library">
  <div class="row">
    <div class="small-12 small-centered columns -fix">
      <div id="masonry-layout" class="masonry-layout" hidden data-columns>
        <% @media_contents.each do |media| %>
          <%
            puts case media.type
              when MediaContent::TYPE_ALBUM
                picture_url = media.photos.first.photo_sizes.where(size: PhotoSize::MEDIUM).first.url
              when MediaContent::TYPE_PHOTO
                picture_url = media.photo_sizes.where(size: PhotoSize::MEDIUM).first.url
              else
                picture_url = nil
              end
          %>
          <%= render 'shared/media-card',
            picture: picture_url,
            title: media.title,
            link: medium_path(media),
            photos_count: 2,
            videos_count: 2 %>
        <% end %>
      </div>
    </div>
  </div>
</div>

<%= render 'shared/footer' %>
