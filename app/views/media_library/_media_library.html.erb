<% media_contents.each do |media| %>
  <% picture_url = case media.type
                     when MediaContent::TYPE_ALBUM
                       photo = media.photos.order("id ASC").first
                       photo ? photo.photo_sizes.where(label: PhotoSize::MEDIUM).first.try(:url) : nil
                     when MediaContent::TYPE_PHOTO
                       media.photo_sizes.where(label: PhotoSize::MEDIUM).first.try(:url)
                     else
                       nil
                   end %>
  <%= render 'shared/media_card',
    picture: picture_url,
    title: media.title,
    link: medium_path(media),
    photos_count: media.type == 'Album' ? media.photos.size : 0,
    videos_count: 0 %>
<% end %>
